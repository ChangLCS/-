const data = {
  Status: '200',
  Message: '查询成功',
  Result: {
    TermStart: '2000-02-24T00:00:00+08:00',
    TeamEnd: '2020-02-24T00:00:00+08:00',
    CheckDate: '2016-11-30T00:00:00+08:00',
    Partners: [
      {
        StockName: '中霸集团有限公司',
        StockType: '法人股东',
        StockPercent: '',
        IdentifyType: '营业执照',
        IdentifyNo: '',
        ShouldCapi: 200,
        ShoudDate: 'null',
        InvestType: 'null',
        InvestName: 'null',
        RealCapi: '',
        CapiDate: 'null',
        Address: null,
      },
    ],
    Employees: [
      {
        Name: '马化腾',
        Job: '总经理',
        CerNo: 'null',
        ScertName: 'null',
      },

      {
        Name: 'SEARLE，CHARLES ST.LEGER',
        Job: '董事',
        CerNo: 'null',
        ScertName: 'null}',
      },

      {
        Name: '马化腾',
        Job: '董事长',
        CerNo: 'null',
        ScertName: 'null}',
      },

      {
        Name: '任宇昕',
        Job: '董事',
        CerNo: 'null',
        ScertName: null,
      },

      {
        Name: '奚丹',
        Job: '董事',
        CerNo: 'null',
        ScertName: 'null}]',
        Branches: [
          {
            No: 'null',
            RegNo: '企独浙杭办字第05868号',
            Name: '腾讯科技（深圳）有限公司杭州办事处',
            BelongOrg: '杭州市市场监督管理局',
          },

          {
            No: 'null',
            RegNo: 801217,
            Name: '腾讯科技（深圳）有限公司上海办事处',
            BelongOrg: '浦东新区市场监管局',
          },

          {
            No: 'null',
            RegNo: 'B02332',
            Name: '腾讯科技（深圳）有限公司北京办事处',
            BelongOrg: '北京市工商行政管理局',
          },

          {
            No: 'null',
            RegNo: '91440101759404414F',
            Name: '腾讯科技(深圳)有限公司广州分公司',
            BelongOrg: '广州市天河区工商行政管理局',
          },
        ],
        ChangeRecords: [
          {
            ProjectName: '经营范围变更（含业务范围变更）',
            BeforeContent:
              '^从事计算机软硬件的技术开发，销售自行开发的软件。计算机技术服务及信息服务；计算机硬件的研发、批发；玩具设计开发。',
            AfterContent:
              '^从事计算机软硬件的技术开发、销售自行开发的软件；计算机技术服务及信息服务；计算机硬件的研发、批发；玩具设计开发；玩具的批发与零售（许可审批类商品除外）；商品的批发与零售（许可审批类商品除外）；动漫及衍生产品设计服务；电子产品设计服务。 （特许经营除外；以上项目不涉及外商投资准入特别管理措施；不涉及国营贸易管理商品；涉及配额、许可证管理商品的，按国家有关规定办理申请）。',
            ChangeDate: '2016-11-30T00:00:00+08:00',
          },

          {
            ProjectName: '章程备案（包括合伙协议）',
            BeforeContent: '',
            AfterContent: '',
            ChangeDate: '2016-11-30T00:00:00+08:00',
          },

          {
            ProjectName: '审批项目',
            BeforeContent: '批文（通知、批复）和《外商（台港澳侨）投资企业批准证书》',
            AfterContent:
              '批文（通知、批复）和《外商（台港澳侨）投资企业批准证书》 按照商务部《外商投资企业设立及变更备案管理暂行办法》的有关规定，不涉及国家规定实施准入特别管理措施的企业设立(变更)信息须向商务主管部门申请办理备案手续',
            ChangeDate: '2016-11-30T00:00:00+08:00',
          },

          {
            ProjectName: '审批项目',
            BeforeContent: '批文（通知、批复）和《外商（台港澳侨）投资企业批准证书》 [2000]0062',
            AfterContent:
              '批文（通知、批复）和《外商（台港澳侨）投资企业批准证书》 [2000]0062 按照商务部《外商投资企业设立及变更备案管理暂行办法》的有关规定，不涉及国家规定实施准入特别管理措施的企业设立(变更)信息须向商务主管部门申请办理备案手续 无',
            ChangeDate: '2016-11-30T00:00:00+08:00',
          },

          {
            ProjectName: '住所',
            BeforeContent: '深圳市福田区赛格科技园2栋东403号',
            AfterContent: '深圳市南山区高新区科技中一路腾讯大厦35层',
            ChangeDate: '2016-11-11T00:00:00+08:00',
          },

          {
            ProjectName: '经营范围变更（含业务范围变更）',
            BeforeContent:
              '^从事计算机软硬件的技术开发，销售自行开发的软件。计算机技术服务及信息服务；计算机硬件的研发、批发。',
            AfterContent:
              '^从事计算机软硬件的技术开发，销售自行开发的软件。计算机技术服务及信息服务；计算机硬件的研发、批发；玩具设计开发。',
            ChangeDate: '2016-09-30T00:00:00+08:00',
          },

          {
            ProjectName: '章程备案（包括合伙协议）',
            BeforeContent: '',
            AfterContent: '',
            ChangeDate: '2016-09-30T00:00:00+08:00',
          },

          {
            ProjectName: '其他事项备案',
            BeforeContent: '',
            AfterContent: '9144030071526726XG',
            ChangeDate: '2016-05-12T00:00:00+08:00',
          },

          {
            ProjectName: '其他事项备案',
            BeforeContent: '',
            AfterContent: '',
            ChangeDate: '2016-05-12T00:00:00+08:00',
          },

          {
            ProjectName: '审批项目',
            BeforeContent: '深圳市环境保护局建设项目环境影响审查批复',
            AfterContent: '《建设项目环境影响审查批复》',
            ChangeDate: '2015-07-27T00:00:00+08:00',
          },

          {
            ProjectName: '经营范围变更（含业务范围变更）',
            BeforeContent:
              'EE电感变压器的技术开发、生产及销售，高低频变压器，电感、线圈产品、电子产品、通讯产品零配件的销售，国内商业、物资供销业（以上不含禁止、限制项目及专营、专控、专卖商品）；货物进出口、技术进出口（法律、行政法规禁止的项目除外；法律、行政法规限制的项目须取得许可后方可经营）。',
            AfterContent:
              '高低频变压器，电感、线圈产品、电子产品、通讯产品零配件的销售，国内商业、物资供销业（以上不含禁止、限制项目及专营、专控、专卖商品）；货物进出口、技术进出口（法律、行政法规禁止的项目除外；法律、行政法规限制的项目须取得许可后方可经营）。^手机中框、精密五金、电感变压器的技术开发、生产及销售。',
            ChangeDate: '2015-07-27T00:00:00+08:00',
          },

          {
            ProjectName: '董事长或执行董事成员',
            BeforeContent: '马化腾（董事长）',
            AfterContent: '马化腾（董事长）',
            ChangeDate: '2015-03-20T00:00:00+08:00',
          },

          {
            ProjectName: '章程备案（包括合伙协议）',
            BeforeContent: '',
            AfterContent: '',
            ChangeDate: '2015-03-20T00:00:00+08:00',
          },

          {
            ProjectName: '经营范围变更（含业务范围变更）',
            BeforeContent:
              '从事计算机软硬件的技术开发，销售自行开发的软件。增加：计算机技术服务及信息服务。',
            AfterContent:
              '^从事计算机软硬件的技术开发，销售自行开发的软件。计算机技术服务及信息服务；计算机硬件的研发、批发。',
            ChangeDate: '2015-03-20T00:00:00+08:00',
          },

          {
            ProjectName: '审批项目',
            BeforeContent: '',
            AfterContent: '批文（通知、批复）和《外商（台港澳侨）投资企业批准证书》',
            ChangeDate: '2015-03-20T00:00:00+08:00',
          },

          {
            ProjectName: '审批项目',
            BeforeContent: '批文（通知、批复）和《外商（台港澳侨）投资企业批准证书》 [2000]0062',
            AfterContent:
              '批文（通知、批复）和《外商（台港澳侨）投资企业批准证书》 [2000]0062 按照商务部《外商投资企业设立及变更备案管理暂行办法》的有关规定，不涉及国家规定实施准入特别管理措施的企业设立(变更)信息须向商务主管部门申请办理备案手续 无',
            ChangeDate: '2015-03-20T00:00:00+08:00',
          },

          {
            ProjectName: '董事成员',
            BeforeContent:
              '张志东(副总经理) 马化腾(董事长) SEARLE CHARLES ST.LEGER(董事) 陈一丹(董事) 张志东(董事) 马化腾(总经理)',
            AfterContent:
              '马化腾(总经理) 任宇昕(董事) 奚丹(董事) 马化腾(董事长) SEARLE CHARLES ST.LEGER(董事)',
            ChangeDate: '2015-03-20T00:00:00+08:00',
          },

          {
            ProjectName: '董事长或执行董事成员',
            BeforeContent: '马化腾（董事长）',
            AfterContent: '马化腾（董事长）',
            ChangeDate: '2010-11-03T00:00:00+08:00',
          },

          {
            ProjectName: '市场主体类型变更',
            BeforeContent: '外商独资企业',
            AfterContent: '有限责任公司（台港澳法人独资）',
            ChangeDate: '2007-12-11T00:00:00+08:00',
          },

          {
            ProjectName: '注册号/注册号升级',
            BeforeContent: '306794',
            AfterContent: '440301503270924',
            ChangeDate: '2007-12-11T00:00:00+08:00',
          },

          {
            ProjectName: '实收资本',
            BeforeContent: 0,
            AfterContent: 200,
            ChangeDate: '2004-03-09T00:00:00+08:00',
          },

          {
            ProjectName: '投资人变更（包括出资额、出资方式、出资日期、投资人名称等）',
            BeforeContent: '名称：TENCENT （BVI） LIMITED，出资额：100，出资比例：100',
            AfterContent: '名称：TENCENT LIMITED，出资额：100，出资比例：100',
            ChangeDate: '2004-01-19T00:00:00+08:00',
          },

          {
            ProjectName: '董事长或执行董事成员',
            BeforeContent: '马化腾（董事长）',
            AfterContent: '马化腾（董事长）',
            ChangeDate: '2003-09-11T00:00:00+08:00',
          },

          {
            ProjectName: '经营范围变更（含业务范围变更）',
            BeforeContent: '从事计算机软硬件的技术开发，销售自行开发的软件。',
            AfterContent:
              '从事计算机软硬件的技术开发，销售自行开发的软件。增加：计算机技术服务及信息服务。',
            ChangeDate: '2003-09-11T00:00:00+08:00}',
          },

          {
            ProjectName: '董事长或执行董事成员',
            BeforeContent: '马化腾（董事长）',

            AfterContent: '马化腾（董事长）',
            ChangeDate: '2003-02-08T00:00:00+08:00',
          },

          {
            ProjectName: '投资人变更（包括出资额、出资方式、出资日期、投资人名称等）',
            BeforeContent: '名称：腾讯科技有限公司，出资额：100，出资比例：100',
            AfterContent: '名称：TENCENT （BVI） LIMITED，出资额：100，出资比例：100',
            ChangeDate: '2003-01-17T00:00:00+08:00',
          },

          {
            ProjectName: '经营范围变更（含业务范围变更）',
            BeforeContent: '从事计算机软硬件的技术开发；在北京设办事机构。',
            AfterContent: '从事计算机软硬件的技术开发，销售自行开发的软件。',
            ChangeDate: '2003-01-17T00:00:00+08:00',
          },

          {
            ProjectName: '投资总额变更',
            BeforeContent: 140,
            AfterContent: 280,
            ChangeDate: '2001-02-27T00:00:00+08:00',
          },

          {
            ProjectName: '注册资本变更（注册资金、资金数额等变更）',
            BeforeContent: 100,
            AfterContent: 200,
            ChangeDate: '2001-02-27T00:00:00 08:00',
          },

          {
            ProjectName: '地址变更（住所地址、经营场所、驻在地址等变更）',
            BeforeContent: '深圳市福田区赛格科技园2栋410号',
            AfterContent: '深圳市福田区赛格科技园2栋东403号',
            ChangeDate: '2000-05-24T00:00:00+08:00',
          },

          {
            ProjectName: '经营范围变更（含业务范围变更）',
            BeforeContent: '从事计算机软硬件的技术开发。',
            AfterContent: '从事计算机软硬件的技术开发；在北京设办事机构。',
            ChangeDate: '2000-05-24T00:00:00+08:00',
          },
          {
            ContactInfo: {
              WebSite: 'null',
              PhoneNumber: '0755-86013388',
              Email: 'landyzhang@tencent.com}',
              Industry: {
                Industry: '信息传输、软件和信息技术服务业',
                SubIndustry: '软件和信息技术服务业}',
                KeyNo: '181e23a3c35a6fc18450f03cc13bb03b',
                Name: '腾讯科技(深圳)有限公司',
                No: '440301503270924',
                BelongOrg: '深圳市市场监督管理局',
                OperName: '马化腾',
                StartDate: '2000-02-24T00:00:00+08:00',
                EndDate: 'null',
                Status: '存续（在营、开业、在册）',
                Province: 'GD',
                UpdatedDate: '2018-07-19T16:49:46.518+08:00',
                CreditCode: '9144030071526726XG',
                RegistCapi: '(美元)200万元',
                EconKind: '有限责任公司（台港澳法人独资）',
                Address: '深圳市南山区高新区科技中一路腾讯大厦35层',
                Scope:
                  '从事计算机软硬件的技术开发、销售自行开发的软件;计算机技术服务及信息服务;计算机硬件的研发、批发;玩具设计开发;玩具的批发与零售(许可审批类商品除外);商品的批发与零售(许可审批类商品除外);动漫及衍生产品设计服务;电子产品设计服务。 (特许经营除外;以上项目不涉及外商投资准入特别管理措施;不涉及国营贸易管理商品;涉及配额、许可证管理商品的按国家有关规定办理申请)。',
              },
            },
          },
        ],
      },
    ],
  },
};

const render = (s, n) => {
  let ret = '';
  for (let i = 0; i < n; i += 1) {
    ret += s;
  }
  return ret;
};

const JSONfmatter = (str) => {
  let jsonString = '';
  if (typeof str === 'object') {
    jsonString = JSON.stringify(str);
  }

  let ret = '';
  let space = 0;
  const count = 4; //  缩进空格数

  const s = '&nbsp;';
  jsonString = jsonString.split('');
  for (let i = 0; i < jsonString.length; i += 1) {
    const item = jsonString[i];
    if (/({|\[)/.test(item)) {
      space += count;
      ret += `${item}<br />${render(s, space)}`;
    } else if (/(}|\]|,)/.test(item)) {
      if (/(,)/.test(item)) {
        ret += `${item}<br />${render(s, space)}`;
      } else if (jsonString[i + 1] && !/(,)/.test(jsonString[i + 1])) {
        if (/(}|\])/.test(jsonString[i + 1])) {
          ret += `<br />${render(s, space - count)}${item}`;
        } else {
          ret += `${item}<br />${render(s, space - count)}`;
        }
      } else if (jsonString[i + 1] && /(,)/.test(jsonString[i + 1])) {
        ret += `<br />${render(s, space - count)}${item}`;
      } else if (!jsonString[i + 1]) {
        ret += `<br />${item}`;
      } else {
        ret += `${item}`;
      }
      if (/(}|\])/.test(jsonString[i])) {
        space -= count;
      }
    } else {
      ret += item;
    }
  }
  return ret;
};

const html = JSONfmatter(data);

document.body.innerHTML = html;

// export default JSONfmatter;
